{"is_source_file": true, "format": "Python (Pydantic schemas)", "description": "This file defines Pydantic data models used for request and response schemas related to ride operations in a ride-sharing backend system.", "external_files": ["src/api/models/ride.py"], "external_methods": [], "published": ["RideCreateRequest", "RideAssignRequest", "RideStatusUpdateRequest", "RidePublic", "RideEventPublic", "RideHistoryResponse", "RideListQuery"], "classes": [{"name": "RideCreateRequest", "description": "Schema for creating a new ride request, including pickup and destination coordinates."}, {"name": "RideAssignRequest", "description": "Schema for assigning a driver to a ride, identified by UUID."}, {"name": "RideStatusUpdateRequest", "description": "Schema for updating the status of a ride, with predefined status options."}, {"name": "RidePublic", "description": "Schema representing public ride details, including current status, location, and timestamps."}, {"name": "RideEventPublic", "description": "Schema for ride event logs, including event type, payload, and timestamps."}, {"name": "RideHistoryResponse", "description": "Response schema containing a list of ride events for a specific ride."}, {"name": "RideListQuery", "description": "Internal helper schema for listing rides with filtering options."}], "methods": [], "calls": [], "search-terms": ["Pydantic", "Ride schemas", "ride creation request", "ride assign request", "ride status update", "ride public data", "ride event log", "ride history response", "ride list query"], "state": 2, "file_id": 21, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "RideAssignRequest", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RideAssignRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideCreateRequest", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RideCreateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideEventPublic", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RideEventPublic(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideHistoryResponse", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RideHistoryResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideListQuery", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RideListQuery(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RidePublic", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RidePublic(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideStatusUpdateRequest", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^class RideStatusUpdateRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    created_at: datetime = Field(..., description=\"When event was created.\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "RideEventPublic", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    created_at: datetime = Field(..., description=\"When the ride was created.\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "dest_lat", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    dest_lat: float = Field(..., description=\"Destination latitude.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "dest_lat", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    dest_lat: float = Field(..., ge=-90, le=90, description=\"Destination latitude in degrees.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "dest_lng", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    dest_lng: float = Field(..., description=\"Destination longitude.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "dest_lng", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    dest_lng: float = Field(..., ge=-180, le=180, description=\"Destination longitude in degrees./", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "driver_id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    driver_id: Optional[UUID] = Field(default=None, description=\"Assigned driver user id (nullab/", "language": "Python", "typeref": "typename:Optional[UUID]", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "driver_id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    driver_id: UUID = Field(..., description=\"Driver user id to assign to the ride.\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "RideAssignRequest", "scopeKind": "class"}, {"_type": "tag", "name": "event_type", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    event_type: str = Field(..., description=\"Event type string.\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RideEventPublic", "scopeKind": "class"}, {"_type": "tag", "name": "events", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    events: List[RideEventPublic] = Field(..., description=\"Ordered list of ride events (oldest /", "language": "Python", "typeref": "typename:List[RideEventPublic]", "kind": "variable", "scope": "RideHistoryResponse", "scopeKind": "class"}, {"_type": "tag", "name": "fare_cents", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    fare_cents: Optional[int] = Field(default=None, description=\"Final fare in cents (nullable)./", "language": "Python", "typeref": "typename:Optional[int]", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    id: UUID = Field(..., description=\"Event id.\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "RideEventPublic", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    id: UUID = Field(..., description=\"Ride id.\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    limit: int = Field(default=50, ge=1, le=200, description=\"Max rides to return.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RideListQuery", "scopeKind": "class"}, {"_type": "tag", "name": "offset", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    offset: int = Field(default=0, ge=0, description=\"Offset for pagination.\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "RideListQuery", "scopeKind": "class"}, {"_type": "tag", "name": "origin_lat", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    origin_lat: float = Field(..., description=\"Pickup latitude.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "origin_lat", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    origin_lat: float = Field(..., ge=-90, le=90, description=\"Pickup latitude in degrees.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "origin_lng", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    origin_lng: float = Field(..., description=\"Pickup longitude.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "origin_lng", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    origin_lng: float = Field(..., ge=-180, le=180, description=\"Pickup longitude in degrees.\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideCreateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    payload: Dict[str, Any] = Field(default_factory=dict, description=\"Event payload JSON.\")$/", "language": "Python", "typeref": "typename:Dict[str, Any]", "kind": "variable", "scope": "RideEventPublic", "scopeKind": "class"}, {"_type": "tag", "name": "ride_id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    ride_id: UUID = Field(..., description=\"Ride id.\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "RideEventPublic", "scopeKind": "class"}, {"_type": "tag", "name": "ride_id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    ride_id: UUID = Field(..., description=\"Ride id.\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "RideHistoryResponse", "scopeKind": "class"}, {"_type": "tag", "name": "rider_id", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    rider_id: UUID = Field(..., description=\"Rider user id who booked the ride.\")$/", "language": "Python", "typeref": "typename:UUID", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    role: str = Field(..., pattern=\"^(rider|driver)$\", description=\"List rides for current user /", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RideListQuery", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    status: Optional[RideStatus] = Field(default=None, description=\"Optional status filter.\")$/", "language": "Python", "typeref": "typename:Optional[RideStatus]", "kind": "variable", "scope": "RideListQuery", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    status: RideStatus = Field($/", "language": "Python", "typeref": "typename:RideStatus", "kind": "variable", "scope": "RideStatusUpdateRequest", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    status: RideStatus = Field(..., description=\"Current ride status.\")$/", "language": "Python", "typeref": "typename:RideStatus", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/rideconnect-201071-201080/taxi_backend/src/api/schemas/ride.py", "pattern": "/^    updated_at: datetime = Field(..., description=\"When the ride was last updated.\")$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "RidePublic", "scopeKind": "class"}], "hash": "86bee2ec7c8f23bead91fff1de086061", "format-version": 4, "code-base-name": "taxi_backend", "filename": "taxi_backend/src/api/schemas/ride.py", "fields": [{"name": "datetime created_at", "scope": "RideEventPublic", "scopeKind": "class", "description": "unavailable"}, {"name": "float dest_lat", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "float dest_lng", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[UUID] driver_id", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID driver_id", "scope": "RideAssignRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str event_type", "scope": "RideEventPublic", "scopeKind": "class", "description": "unavailable"}, {"name": "List[RideEventPublic] events", "scope": "RideHistoryResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[int] fare_cents", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID id", "scope": "RideEventPublic", "scopeKind": "class", "description": "unavailable"}, {"name": "int limit", "scope": "RideListQuery", "scopeKind": "class", "description": "unavailable"}, {"name": "int offset", "scope": "RideListQuery", "scopeKind": "class", "description": "unavailable"}, {"name": "float origin_lat", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "float origin_lng", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Any] payload", "scope": "RideEventPublic", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID ride_id", "scope": "RideEventPublic", "scopeKind": "class", "description": "unavailable"}, {"name": "UUID rider_id", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}, {"name": "str role", "scope": "RideListQuery", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[RideStatus] status", "scope": "RideListQuery", "scopeKind": "class", "description": "unavailable"}, {"name": "RideStatus status", "scope": "RideStatusUpdateRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime updated_at", "scope": "RidePublic", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"46": ""}]}